/**!
 * Easy Tab & Accordion v1.0.0
 * https://github.com/viivue/easy-tab-accordion
 * MIT license - 2022
 */
class EasyTabAccordion{constructor(t){if(this._class={enabled:"easy-tab-accordion-enabled",active:"active"},this._attr={container:"data-eta",trigger:"data-eta-trigger",receiver:"data-eta-receiver"},this.config={el:document.querySelector(`[${this._attr.container}]`),trigger:`[${this._attr.trigger}]`,triggerAttr:this._attr.trigger,receiver:`[${this._attr.receiver}]`,receiverAttr:this._attr.receiver,activeClass:this._class.active,animation:"slide",duration:600,hash:!1,liveBreakpoint:[],onBeforeOpen:(t,e)=>{},onBeforeClose:(t,e)=>{},onAfterOpen:(t,e)=>{},onAfterClose:(t,e)=>{},onAfterDestroy:(t,e)=>{},...t},this.wrapper=this.config.el,this.current_id="",this.previous_id="",this.type="",this.hasInit=!1,this.enabled=!this.hasLiveBreakpoint()||this.isLive(),this.enabled&&!this.hasInit&&this.init(),!this.enabled&&this.hasInit&&this.destroy(),this.enabled){const t=document.location.hash,e=t.slice(1);this.config.hash&&t.length&&this.receiver_ids.filter((t=>t.id===e)).length?this.activate(e,"hash"):this.activate(this.receiver_ids[0].id,"auto")}return window.addEventListener("resize",(t=>this.resizeWatcher(t))),window.addEventListener("load",(t=>this.resizeWatcher(t))),{activate:t=>this.activate(t),activateByIndex:t=>this.activate(this.receiver_ids[t].id),destroy:()=>this.destroy()}}hasLiveBreakpoint(){return 2===this.config.liveBreakpoint.length}isLive(){return window.innerWidth<=this.config.liveBreakpoint[0]&&window.innerWidth>=this.config.liveBreakpoint[1]&&this.hasLiveBreakpoint()}resizeWatcher(t){this.hasLiveBreakpoint()&&this.isLive()!==this.enabled&&(this.enabled=this.isLive(),this.enabled?(this.init(),this.activate(this.current_id||this.receiver_ids[0].id,"auto",!0)):this.destroy())}manualTriggerFunction(t){t.preventDefault(),t.stopPropagation();const e=t.target.getAttribute(this.config.triggerAttr)||t.target.closest(this.config.trigger).getAttribute(this.config.triggerAttr);this.activate(e,"manual")}init(){this.hasInit=!0,this.enabled=!0,this.wrapper.classList.add(this._class.enabled),this.wrapper.querySelectorAll(this.config.trigger).forEach((t=>{t.addEventListener("click",(t=>this.manualTriggerFunction(t)),!0)})),this.receiver_ids=[],this.wrapper.querySelectorAll(this.config.receiver).forEach((t=>{const e=t.getAttribute(this.config.receiverAttr);this.receiver_ids.push({id:e,el:t}),"fade"===this.config.animation&&(t.style.position="absolute"!==getComputedStyle(t).position?"absolute":"",t.style.top="0",t.style.left="0",t.style.right="0",t.style.transition=`opacity ${this.config.duration}ms ease`,t.parentElement.style.position="relative"!==getComputedStyle(t).position?"relative":"",t.parentElement.style.transition=`height ${this.config.duration}ms ease`)}))}destroy(){this.enabled=!1,this.wrapper.classList.remove(this._class.enabled),this.wrapper.querySelectorAll(this.config.trigger).forEach((t=>{t.removeEventListener("click",this.manualTriggerFunction,!0)})),this.receiver_ids=[],"fade"===this.config.animation&&this.wrapper.querySelectorAll(this.config.receiver).forEach((t=>{t.style.opacity="",t.style.visibility="",t.style.position="",t.style.top="",t.style.left="",t.style.right="",t.style.transition="",t.parentElement.style.height="",t.parentElement.style.position="",t.parentElement.style.transition=""})),"slide"===this.config.animation&&this.wrapper.querySelectorAll(this.config.receiver).forEach((t=>{this.slideDown(t,this.config.duration)})),this.config.onAfterDestroy(this)}activate(t,e="undefined",i=!1){if(!i&&t===this.current_id||!t.length)return;if(!this.receiver_ids.filter((e=>e.id===t)).length)return;this.type=e,this.previous_id=this.current_id?this.current_id:this.receiver_ids[0].id,this.current_id=t;const r=this.wrapper.querySelectorAll(`${this.config.trigger}:not([${this.config.triggerAttr}="${this.current_id}"])`),s=this.wrapper.querySelectorAll(`${this.config.receiver}:not([${this.config.receiverAttr}="${this.current_id}"])`),o=this.wrapper.querySelectorAll(`[${this.config.triggerAttr}="${this.current_id}"]`),n=this.wrapper.querySelectorAll(`[${this.config.receiverAttr}="${this.current_id}"]`);n.forEach((t=>{this.config.onBeforeOpen(this,t),"slide"===this.config.animation&&this.slideDown(t,this.config.duration,(()=>this.config.onAfterOpen(this,t))),"fade"===this.config.animation&&(t.style.opacity="1",t.style.visibility="visible",t.parentElement.style.height=`${t.offsetHeight}px`,setTimeout((()=>this.config.onAfterOpen(this,t)),this.config.duration))})),s.forEach((t=>{this.config.onBeforeClose(this),"slide"===this.config.animation&&this.slideUp(t,this.config.duration,(()=>this.config.onAfterClose(this,t))),"fade"===this.config.animation&&(t.style.opacity="0",t.style.visibility="hidden",setTimeout((()=>this.config.onAfterClose(this,t)),this.config.duration))})),r.forEach((t=>t.classList.remove(this._class.active))),s.forEach((t=>t.classList.remove(this._class.active))),o.forEach((t=>t.classList.add(this._class.active))),n.forEach((t=>t.classList.add(this._class.active)));const a=document.location.origin+document.location.pathname;this.config.hash&&"manual"===e&&(document.location=a+"#"+t)}slideUp(t,e=500,i=(()=>{})){t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.boxSizing="border-box",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout((()=>{t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),"function"==typeof i&&i()}),e)}slideDown(t,e=500,i=(()=>{})){t.style.removeProperty("display");let r=window.getComputedStyle(t).display;"none"===r&&(r="block"),t.style.display=r;let s=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.boxSizing="border-box",t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=s+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout((()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),"function"==typeof i&&i()}),e)}}document.querySelectorAll("[data-eta]").forEach((t=>new EasyTabAccordion({el:t})));