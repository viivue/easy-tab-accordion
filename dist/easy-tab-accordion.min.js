/**!
 * Easy Tab & Accordion v1.0.1
 * https://github.com/viivue/easy-tab-accordion
 * MIT license - 2022
 */
class EasyTabAccordion{constructor(t){this._class={enabled:"easy-tab-accordion-enabled",active:"active"},this._attr={container:"data-eta",trigger:"data-eta-trigger",receiver:"data-eta-receiver",hash:"data-eta-hash",hashScroll:"data-eta-hash-scroll",animation:"data-eta-animation"},this.config={el:document.querySelector(`[${this._attr.container}]`),trigger:`[${this._attr.trigger}]`,triggerAttr:this._attr.trigger,receiver:`[${this._attr.receiver}]`,receiverAttr:this._attr.receiver,activeClass:this._class.active,animation:"slide",duration:600,hash:!1,hashScroll:!1,liveBreakpoint:[],activeSection:0,allowCollapseAll:!1,onBeforeOpen:(t,e)=>{},onBeforeClose:(t,e)=>{},onAfterOpen:(t,e)=>{},onAfterClose:(t,e)=>{},onAfterDestroy:(t,e)=>{},...t},this.wrapper=this.config.el,this.current_id="",this.previous_id="",this.type="",this.hasInit=!1,this.enabled=!this.hasLiveBreakpoint()||this.isLive(),this.length=this.wrapper.querySelectorAll(this.config.trigger).length,this.config.hash=!0===this.wrapper.hasAttribute(this._attr.hash)||this.config.hash,this.config.hashScroll=!0===this.wrapper.hasAttribute(this._attr.hashScroll)||this.config.hashScroll;const e=this.wrapper.getAttribute(this._attr.animation);if(this.config.animation=null!==e?e:this.config.animation,this.enabled&&!this.hasInit&&this.init(),!this.enabled&&this.hasInit&&this.destroy(),this.enabled){const t=this.getHash(),e=t.hash,i=t.id;if(this.config.hash&&e.length&&this.receiver_ids.filter((t=>t.id===i)).length)this.activate(i,"hash");else{this.config.activeSection>=0&&this.config.activeSection<this.length?this.activate(this.receiver_ids[this.config.activeSection].id,"auto"):this.wrapper.querySelectorAll(this.config.receiver).forEach((t=>{this.close(t.getAttribute(`${this.config.receiverAttr}`))}))}}return window.addEventListener("resize",(t=>this.resizeWatcher(t))),window.addEventListener("load",(t=>this.resizeWatcher(t))),{activate:t=>this.activate(t),activateByIndex:t=>this.activate(this.receiver_ids[t].id),destroy:()=>this.destroy()}}getHash(t=document.location){const e=new URL(t),i=e.hash.indexOf("?"),s=i>-1?e.hash.slice(0,i):e.hash;return{data:e,hash:s,id:s.slice(1)}}scrollIntoView(){this.wrapper.scrollIntoView({behavior:"smooth"})}assignTriggerElements(){document.querySelectorAll("a[href]").forEach((t=>{let e=t.getAttribute("href"),i="#"===e[0]?e.slice(1):this.getHash(e).id;i&&this.receiver_ids.forEach((e=>{e.id===i&&t.addEventListener("click",(t=>{t.preventDefault(),this.activate(i,"manual"),this.scrollIntoView()}))}))}))}hasLiveBreakpoint(){return 2===this.config.liveBreakpoint.length}isLive(){return window.innerWidth<=this.config.liveBreakpoint[0]&&window.innerWidth>=this.config.liveBreakpoint[1]&&this.hasLiveBreakpoint()}resizeWatcher(t){this.hasLiveBreakpoint()&&this.isLive()!==this.enabled&&(this.enabled=this.isLive(),this.enabled?(this.init(),this.activate(this.current_id||this.receiver_ids[0].id,"auto",!0)):this.destroy())}manualTriggerFunction(t){t.preventDefault(),t.stopPropagation();const e=t.target.getAttribute(this.config.triggerAttr)||t.target.closest(this.config.trigger).getAttribute(this.config.triggerAttr);this.activate(e,"manual")}init(){this.hasInit=!0,this.enabled=!0,this.wrapper.classList.add(this._class.enabled),this.wrapper.querySelectorAll(this.config.trigger).forEach((t=>{t.addEventListener("click",(t=>this.manualTriggerFunction(t)),!0)})),this.receiver_ids=[],this.wrapper.querySelectorAll(this.config.receiver).forEach((t=>{const e=t.getAttribute(this.config.receiverAttr);this.receiver_ids.push({id:e,el:t}),"fade"===this.config.animation&&(t.style.position="absolute"!==getComputedStyle(t).position?"absolute":"",t.style.inset="0",t.style.transition=`opacity ${this.config.duration}ms ease`,t.style.overflow="hidden",t.parentElement.style.position="relative"!==getComputedStyle(t).position?"relative":"",t.parentElement.style.transition=`height ${this.config.duration}ms ease`)})),this.assignTriggerElements()}destroy(){this.enabled=!1,this.wrapper.classList.remove(this._class.enabled),this.wrapper.querySelectorAll(this.config.trigger).forEach((t=>{t.removeEventListener("click",this.manualTriggerFunction,!0)})),this.receiver_ids=[],"fade"===this.config.animation&&this.wrapper.querySelectorAll(this.config.receiver).forEach((t=>{t.style.opacity="",t.style.visibility="",t.style.position="",t.style.inset="",t.style.transition="",t.parentElement.style.height="",t.parentElement.style.position="",t.parentElement.style.transition=""})),"slide"===this.config.animation&&this.wrapper.querySelectorAll(this.config.receiver).forEach((t=>{this.slideDown(t,this.config.duration)})),this.config.onAfterDestroy(this)}updateUrl(){const t=document.location.origin+document.location.pathname;this.config.hash&&"manual"===type&&(document.location=t+"#"+id)}close(t){const e=this.wrapper.querySelector(`[${this.config.receiverAttr}="${t}"]`);this.config.onBeforeClose(this),"slide"===this.config.animation&&this.slideUp(e,this.config.duration,(()=>this.config.onAfterClose(this,e))),"fade"===this.config.animation&&(e.style.opacity="0",e.style.visibility="hidden",setTimeout((()=>this.config.onAfterClose(this,e)),this.config.duration)),this.wrapper.querySelector(`[${this.config.receiverAttr}="${t}"]`).classList.remove(this._class.active),this.wrapper.querySelector(`[${this.config.triggerAttr}="${t}"]`).classList.remove(this._class.active),this.updateUrl()}open(t){const e=this.wrapper.querySelector(`[${this.config.receiverAttr}="${t}"]`);this.config.onBeforeOpen(this,e),"slide"===this.config.animation&&this.slideDown(e,this.config.duration,(()=>this.config.onAfterOpen(this,e))),"fade"===this.config.animation&&(e.style.opacity="1",e.style.visibility="visible",e.parentElement.style.height=`${e.offsetHeight}px`,setTimeout((()=>this.config.onAfterOpen(this,e)),this.config.duration)),this.wrapper.querySelector(`[${this.config.receiverAttr}="${t}"]`).classList.add(this._class.active),this.wrapper.querySelector(`[${this.config.triggerAttr}="${t}"]`).classList.add(this._class.active),this.updateUrl()}activate(t,e="undefined",i=!1){if(!i&&t===this.current_id||!t.length){if(this.config.allowCollapseAll){this.wrapper.querySelector(`[${this.config.receiverAttr}="${t}"]`).classList.contains(this._class.active)?this.close(t):this.open(t)}return}if(!this.receiver_ids.filter((e=>e.id===t)).length)return;this.type=e,this.previous_id=this.current_id?this.current_id:this.receiver_ids[0].id,this.current_id=t;const s=this.wrapper.querySelectorAll(`${this.config.receiver}:not([${this.config.receiverAttr}="${this.current_id}"])`);this.wrapper.querySelectorAll(`[${this.config.receiverAttr}="${this.current_id}"]`).forEach((t=>{this.open(t.getAttribute(`${this.config.receiverAttr}`)),this.config.onBeforeOpen(this,t),"slide"===this.config.animation&&this.slideDown(t,this.config.duration,(()=>this.config.onAfterOpen(this,t))),"fade"===this.config.animation&&(t.style.bottom="",t.style.opacity="1",t.style.visibility="visible",t.parentElement.style.height=`${t.offsetHeight}px`,t.style.bottom="0",setTimeout((()=>this.config.onAfterOpen(this,t)),this.config.duration))})),s.forEach((t=>{this.close(t.getAttribute(`${this.config.receiverAttr}`))})),"hash"===e&&this.config.hashScroll&&window.addEventListener("load",(()=>setTimeout((()=>this.scrollIntoView()),100)))}slideUp(t,e=500,i=(()=>{})){t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.boxSizing="border-box",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout((()=>{t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),"function"==typeof i&&i()}),e)}slideDown(t,e=500,i=(()=>{})){t.style.removeProperty("display");let s=window.getComputedStyle(t).display;"none"===s&&(s="block"),t.style.display=s;let r=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.boxSizing="border-box",t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=r+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout((()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),"function"==typeof i&&i()}),e)}}document.querySelectorAll("[data-eta]").forEach((t=>new EasyTabAccordion({el:t})));